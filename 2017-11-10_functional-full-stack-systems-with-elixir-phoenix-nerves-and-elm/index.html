<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Functional Full-Stack Systems with Elixir, Phoenix, Nerves, and Elm</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/white.css">
    <link rel="stylesheet" href="css/customizations.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>

  <body>
    <div class="reveal">
      <div class="slides">
        <section data-markdown
          data-background-image="img/circuit.svg"
          data-background-color="#DFDBE5"
          data-background-size="200px"
          data-background-repeat="repeat"
          data-separator-notes="^Notes:">
          <textarea data-template>
            ## Functional
            ## Full-Stack
            ## Systems
            with Elixir, Phoenix, Nerves, and Elm

            ----

            Elixir with Love 2017-11-10

            Greg Mefford (@ferggo)

            ![GregMefford](img/GregMefford.jpg) <!-- .element: class="plain" style="height: 4em" -->
            ![Le Tote](img/lt_logo.png) <!-- .element: class="plain" style="height: 4em" -->

          </textarea>
        </section>

        <!-- What Even? - Systems -->
        <section>

          <section data-markdown class="nav"
            data-background-image="img/circuit.svg"
            data-background-color="#B595E5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # What Even?
              ## Functional
              ## Full-Stack
              ## ðŸ’œ Systems ðŸ’œ

              Notes:

              This talk is about Functional Full-Stack Systems

              let's go through what I mean by each, in reverse order,

              Starting with "Systems."

            </textarea>
          </section>

          <section data-background-image="img/monolith.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              We're probably all familiar with the monolith, where all your code

              is in one thing.

              This is the obvious architecture because the first thing you build

              it going to be a monolith by definition.
            </aside>
          </section>

          <section data-background-image="img/microservices.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              On the opposite end of the spectrum, you might have a bunch of

              microservices, each with a small responsibility in the system.
            </aside>
          </section>

          <section data-background-image="img/hybrid.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              It's also common to have a hybrid Architecture,

              either as a transitionary step or permanently.
            </aside>
          </section>

          <section data-background-image="img/multi-monolith.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              It's also possible to split a monolith

              into multiple monoliths.
            </aside>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Conway's Law
              > organizations which design systems ...
              > are constrained to produce designs
              > which are copies of the communication
              > structures of these organizations.

              Notes:

              Conway's law says that the architecture you choose

              will normally depend on the structure of your organization.

              So keep that in mind, while designing your software

              as well as your organization.
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # The Mythical Man-Month
              ![The Mythical Man-Month](img/mythical_man_month.jpg) <!-- .element: class="plain" style="height: 12em" -->

              Notes:

              Fun fact I learned while putting this talk together:

              Conway's Law was coined in TMM-M.

              Despite the awkwardly gender-specific title,

              this book is jam-packed with wisdom.

              As a developer, if you haven't read this book, you really should.

              One important concepts is the

              cost of communication in teams.
            </textarea>
          </section>

          <section data-background-image="img/teams_pair.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              Teams naturally start out small.

              Here, we have a pair of co-founders.

              Communication is easy because

              there're only two brains

              and one lossy channel between them.
            </aside>
          </section>

          <section data-background-image="img/teams_small.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              As the team grows, there're more channels,

              with more chances to misunderstand

              or simply miss out on something.

              For a small team, it's generally fine.
            </aside>
          </section>

          <section data-background-image="img/teams_full_mesh.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              As the team gets bigger,

              it needs to be partitioned somehow,

              or you'll be spending

              all of your time in meetings.
            </aside>
          </section>

          <section data-background-image="img/teams_grid.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              At a certain size, it's unlikely or impossible

              that you'll interact regularly with everyone.
            </aside>
          </section>

          <section data-background-image="img/teams_small_teams.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              Ideally, small teams would be formed

              with autonomy and responsibility

              for all aspects of a feature or service.
            </aside>
          </section>

          <section data-background-image="img/teams_leads.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              You might also have overlapping teams to help

              keep alignment across the organization.

              For example, all the front-end engineers need to get together

              to argue about whether to use gulp or grunt or yarn or webpack.
            </aside>
          </section>

          <section data-background-image="img/teams_informal_connections.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              Encourage informal communication outside formal teams,

              because it builds empathy across the organization

              and leads to meeting business needs more quickly.
            </aside>
          </section>

          <!-- Summary: Systems -->

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Systems
              * Technical and Organizational
              * Small, Focused Teams
              * Minimize Communication Overhead

              ![small teams](img/teams_informal_connections.png) <!-- .element: class="plain" style="height: 8em" -->
              ![small teams](img/microservices.png) <!-- .element: class="plain" style="height: 8em" -->

              Notes:

              So think about both technical and organizational systems.

              We should keep teams small and focused.

              Minimize the communication overhead, but encourage empathy.

              Conway's Law tells us that this is a prerequisite to

              being successful in building focused microservices.
            </textarea>
          </section>

        </section>

        <!-- What Even? - Full-Stack -->
        <section>
          <section data-markdown class="nav"
            data-background-image="img/circuit.svg"
            data-background-color="#B595E5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # What Even?
              ## Functional
              ## ðŸ’œ Full-Stack ðŸ’œ
              ## ~~Systems~~

              Notes:

              Now, on to "Full-Stack Systems"
            </textarea>
          </section>

          <section data-background-image="img/stack_back-end.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              This is a "Back-End Developer."

              They write code that runs on servers.
            </aside>
          </section>

          <section data-background-image="img/stack_front-end.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              Sometimes, the same person is also a "Front-End Developer."

              They write code that runs in a browser.

              This is often call a "Full-Stack" developer.
            </aside>
          </section>

          <section data-background-image="img/stack_full-stack.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              ... or maybe they also provision the servers/databases/monitoring/etc.
            </aside>
          </section>

          <section data-background-image="img/stack_mobile_web.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              They might also write front-end code

              that works well on mobile devices.
            </aside>
          </section>

          <section data-background-image="img/stack_mobile_native.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              ... and we might also develop "native apps" for mobile devices.

              This is normally where we draw the line because the

              tools and skills needed are different enough that it makes sense.
            </aside>
          </section>

          <section data-background-image="img/stack_logistics.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              But what if your business is more than just a website?

              If you have physical goods, you probably have logistics to manage.

              You've got barcodes, RFIDs, and GPS-based fleet-tracking.
            </aside>
          </section>

          <section data-background-image="img/stack_logistics_divide.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              Maybe this part of "the stack" is outside the developers' control.

              Maybe there's vendors or contracts involved.

              Or, you know, spreadsheets.
            </aside>
          </section>

          <section data-background-image="img/stack_logistics_api.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              If you're lucky, there's somebody who makes the system work

              and provides an API that your back-end developers can use.
            </aside>
          </section>

          <section data-background-image="img/stack_iot.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              If your your company is developing IoT products,

              Maybe you have people with the appropriate skill-sets

              to work with the vendors' APIs along with their own.
            </aside>
          </section>

          <section data-background-image="img/stack_process_controls.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              ... or maybe you have a manufacturing process

              that uses automated process controls and human-machine interfaces

              to create or process the products you sell.

              Unless this is the core of your business, there's probably no API

              and you've just got whatever the vendor provides OOTB.
            </aside>
          </section>

          <!-- Summary: Full-Stack -->

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Full-Stack
              * What is "Full-Stack" for you?
              * Direct Control without Contract Negotiation

              ![small teams](img/stack_integrated.png) <!-- .element: class="plain" style="height: 10em" -->

              Notes:

              What does "Full-Stack" mean for your business?

              What if your engineers could use their existing skills across the stack,

              taking more direct control without contract negotiations?
            </textarea>
          </section>

        </section>

        <!-- What Even? - Functional -->
        <section>

          <section data-markdown class="nav"
            data-background-image="img/circuit.svg"
            data-background-color="#B595E5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # What Even?
              ## ðŸ’œ Functional ðŸ’œ
              ## ~~Full-Stack~~
              ## ~~Systems~~

              Notes:

              Finally, let's talk about "Functional Full-Stack Systems."
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Functional
              ![Anti-Fragile](img/anti-fragile.png) <!-- .element: class="plain" style="height: 12em" -->

              Notes:

              * It works

              * It recovers gracefully from errors ...because computers.

              Ideally, we want "anti-fragile" systems,

              meaning that they get more resilient by handling failures.

              The poster-child of this concept in technology

              is the Netflix Chaos Engineering team.

              By injecting failures into real production systems, engineers are

              forced to develop systems that are resilient to failure

              and improving over time.
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/crash_screens.jpg"
            data-background-size="contain"
            data-separator-notes="^Notes:">
            <textarea data-template>
              ![Kevlin Henney](img/kevlin_henney.png) <!-- .element: class="plain fragment" style="height: 14em" -->

              Notes:

              This is not what they meant when they said "let it crash."

              (fragment): These crash screens are courtesy of Kevlin Henney's Twitter stream,

              where you can find tons more pictures of crash screens in-the-wild.

              It's pretty great, if that's your kind of thing.
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Functional
              # z = F(x,y)

              Notes:

              So, besides having a system that _functions_,

              I also really like the _functional programming_ style.

              The code easier to test and reason about becasuse it's

              deterministic, returning the same output for a given input.
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # ðŸ’œ Happy Family ðŸ’œ
              ![Elixir](img/elixir_logo.png) <!-- .element: class="plain" style="height: 4em" -->
              ![Phoenix](img/phoenix_logo.png) <!-- .element: class="plain" style="height: 4em" -->
              ![Nerves](img/nerves_sticker.png) <!-- .element: class="plain" style="height: 4em" -->
              ![Elm](img/elm_logo.png) <!-- .element: class="plain" style="height: 4em" -->

              Notes:

              That brings us to this happy family of tools

              that work well to build a Functional Full-Stack System.
            </textarea>
          </section>

        </section>

        <!-- Who Even? -->
        <section>
          <section data-markdown class="nav"
            data-background-image="img/circuit.svg"
            data-background-color="#B595E5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Who Even?
              ![GregMefford](img/GregMefford.jpg) <!-- .element: class="plain" style="height: 6em" -->

              Notes:

              ... but first, in the intrest of full disclosure,

              I need to tell you a story about me.
            </textarea>
          </section>

          <section data-background-image="img/letote_homepage.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              I work at Le Tote, where we enable women's fashion through a

              rental subscription service.

              Specifically, I work on the team that uses Elixir, Phoenix, Nerves, and React

              to make the magic happen in our fulfillment centers.
            </aside>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # âœ… Hiring!
              Elixir Slack: @gregmefford

              Twitter: @ferggo

              ![Le Tote](img/lt_logo.png) <!-- .element: class="plain" style="height: 4em" -->

              ![Elixir](img/elixir_logo.png) <!-- .element: class="plain" style="height: 3em" -->
              ![Phoenix](img/phoenix_logo.png) <!-- .element: class="plain" style="height: 3em" -->
              ![Nerves](img/nerves_sticker.png) <!-- .element: class="plain" style="height: 3em" -->
              ![React](img/react_logo.png) <!-- .element: class="plain" style="height: 3em" -->

              Notes:

              That's right, I didn't say "Elm."

              We definitely have several people interested in using it,

              but it hasn't happened yet.

              Anyway... we're hiring,

              so get in touch if you want to work on these kinds of systems!
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # You *Can* Contribute
              ![Nerves](img/nerves_sticker.png) <!-- .element: class="plain" style="height: 10em"-->

              Notes:

              I've been contributing to the Nerves project for a couple of years

              and, since this is a conference about the Elixir community, I

              want to briefly share my story in hopes that it will encourage

              others that they _do_ have something they can contribute to the

              community if they want to even if they feel like they don't.
            </textarea>
          </section>

          <section data-background-image="img/garth_talk.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              Like many in the Nerves community,

              I found out about Nerves by watching

              Garth's presentation from ElixirConf 2015.
            </aside>
          </section>

          <section data-markdown
            data-background-image="img/nerves_hello_world.jpg"
            data-background-size="contain"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Victory! <!-- .element: class="img-quote" -->

              Notes:

              I had some electronics experience and an ancient Raspberry Pi.

              I had barely turned it on since buying it,

              but I struggled through the process of getting started with Nerves.

              There's something really visceral about programming physical devices

              that makes such a small achievement really exciting.
            </textarea>
          </section>

          <section data-background-video="img/neopixels.mp4" data-background-video-loop=true>
            <div class="img-quote">
              <p>Made the <em>nerves_neopixel</em> library</p>
            </div>
            <aside class="notes" data-markdown>
              Then, of course, I set to work on more blinkenlights,

              because everyone needs some bling in their life.
            </aside>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Wanted to *get involved*
              Even though I was *new to Elixir*

              Notes:

              I really wanted to get more involved in the Nerves project,

              even though I was pretty new to Elixir at the time.
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Wanted to *get involved*
              *Because* I was new to Elixir

              Notes:

              And when I thought about it, I realized that I had something to

              contribute to the project _because_ I was new to Elixir.
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Limited *time* and *energy*

              ![Making a Mummy](img/make-a-mummy.jpg) <!-- .element: class="plain" style="height: 11em"-->
              <br/>
              [NatGeo Kids: How to Make a Mummy](https://www.natgeokids.com/au/discover/history/egypt/how-to-make-a-mummy/) <!-- .element: class="attribution" -->

              Notes:

              But I had pretty limited free time and energy to even do anything

              besides work and family.

              Here's me and my three kids having a relaxing weekend.
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Building a *welcoming* and *helpful* community
              ![Welcome to Nerves](img/nerves_welcome.png) <!-- .element: class="plain" -->

              Notes:

              So I decided to focus on building a welcoming and helpful

              community around Nerves.

              For example, I started to manually and individually welcome each

              new person to our Slack channel

              and invite them to get involved.
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Community Management
              * Welcome New People ðŸš€
              * Answer Questions
              * Improve Documentation and Guides
              * Maintain the Website
              * Herd Issues and PRs (in our 35 reops ðŸ˜±)

              Notes:

              Over time, I started helping in other ways, too.

              There wasn't really any formal process involved.

              I just reached out to the existing core team members on Slack and

              said I wanted to help out.

              They were happy to have the help with these things that are often

              overlooked in open-source projects.
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # *&gt;1300* people today
              # (*500* in July 2016)

              ![Iceberg](img/iceberg.png) <!-- .element: class="plain" style="height: 10em" -->
              [Chris Fernandez - Iceberg](https://dribbble.com/shots/2619672-Iceberg) <!-- .element: class="attribution" -->

              Notes:

              The community has grown a lot.

              We have over 1300 members in our Slack channel.

              I see that as the tip of the iceberg.

              There are probably many more people that we never hear from because

              they don't use Slack.

              We've recently been working on having a stronger presence in

              other spaces like the Elixir Forum and Stack Overflow so that we

              can do better at meeting people where they are.
            </textarea>
          </section>

        </section>

        <!-- ===== Segue ===== -->
        <section>

          <section data-background-image="img/summary.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              So now you understand my particular bias toward Elixir, Phoenix, and Nerves.

              Let's talk about how to build Full-Stack Functional Systems.
            </aside>
          </section>

          <section data-background-image="img/hands_hands.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              For each part of the stack, you have a lot of choices.
            </aside>
          </section>

        </section>

        <!-- ===== Segue ===== -->
        <section>

          <section data-markdown class="img-list"
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Back-End Tools
              ![Ruby and Rails](img/logos_ruby_rails.png) <!-- .element: class="plain fragment" style="width: 40%" -->
              ![Clojure and ...Clojure](img/logos_clojure_clojure.png) <!-- .element: class="plain fragment" style="width: 40%" -->
              ![Elixir and Phoenix](img/logos_elixir_phoenix.png) <!-- .element: class="plain fragment" style="width: 40%" -->

              Notes:

              (fragment) Ruby on Rails is popular, but not functional

              (fragment) Clojure is functional, and it doesn't even _need_ a

              web framework, because it's just functions after all.

              (framework) But I think Elixir and Phoenix are really great choices

              for the "Full Stack" systems we're talking about today.
            </textarea>
          </section>

        </section>

        <!-- ===== Elixir ===== -->
        <section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Elixir ðŸ’œ Embedded
              Light-weight *concurrency*
              * Tons of tiny processes
              * Process-level fault-tolerance

              Notes:

              Due to its Erlang roots, Elixir was born to be embedded.

              Today's low-cost embedded platforms are yesterday's supercomputers,

              so it's unsurprising that the BEAM would work well there.
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Elixir ðŸ’œ Embedded
              Light-weight *concurrency*
              * Per-Process Garbage-Collection
              * Immutable Data Structures

              Notes:

              But I want to talk for a minute about this one-two punch:

              Garbage-collection happens per-process, and data structures are immutable.
            </textarea>
          </section>

          <section data-background-image="img/gc_jvm.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              Here's what a typical memory usage graph looks like for

              a Java virtual machine under a constant workload.

              The shaded areas are wasted memory due mostly to a lack of

              immutable data structures, which prevents the garbage collector

              from quickly determining what memory is still in use somewhere.
            </aside>
          </section>

          <section data-background-image="img/gc_jvm_zoom.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              If we zoom in, we see the same process, but on a smaller scale.

              When the overall memory usage hits 75%, it triggers a Full-GC that

              stops the whole VM while it determines what memory is no longer

              referenced anywhere and frees it up.

              In a busy system, this can take a while and cause problems.
            </aside>
          </section>

          <section data-background-image="img/gc_beam.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              By contrast, the BEAM does garbage-collection on a per-process basis.

              There's very little waste for a system under constant load.

              The overall memory usage only ebbs and flows with the

              actual memory requirements of your workload.

              This means that you can run a system closer to its memory limit,

              provided that your workload doesn't have large peaks and valleys.

              That can be a very important property for an embedded system with

              only half a gig of RAM.
            </aside>
          </section>

          <section data-background-image="img/gc_beam_zoom.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              If we zoom in, we see that each process allocates some memory,

              does its work,

              with tiny, independent garbage-collections along the way,

              and frees it all when it's finished.

              At any moment, there are a bunch of processes allocating a

              small increment of memory, while a much smaller number are freeing

              their entire allocation.

              So the overall memory usage closely follows the actual demand on the system.
            </aside>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Elixir ðŸ’œ Embedded
              Binary pattern-matching
              ``` elixir
              def decode(<<op :: 3, addr :: 6, data :: 7>>), do: {op, addr, data}

              # ...

              decode(<<0b01010101, 0b01010011>>) # => {2, 42, 83}
              ```
              <!-- .element: style="font-size: 20px" -->

              Notes:

              Another thing that's really great about Elixir for embedded development

              is binary pattern-matching.

              Let's pretend that we have an data sheet for an electronics component

              that says we need to decode these 16 bits into

              * a 3-bit operation code,
              * a 6-bit address value,
              * and a 7-bit data value.

              It's really easy to just pattern-match like this, and you're done.
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Elixir ðŸ’œ Embedded
              *Binary* pattern-matching
              ``` elixir
              def decode(<<0 :: 2, op :: 1, addr :: 9, data :: 4>>), do: # ...
              def decode(<<        op :: 3, addr :: 6, data :: 7>>), do: # ...

              # ...

              decode(<<0b00010101, 0b01010011>>) # => {0, 341, 3}
              decode(<<0b01010101, 0b01010011>>) # => {2, 42, 83}
              ```
              <!-- .element: style="font-size: 20px" -->

              Notes:

              But oh, by the way, the data sheet also says that

              if the first two bits are zeros, then you're in "extended address" mode,

              so you should interpret the rest of the data as:

              * a 1-bit operation code,
              * a 9-bit address value,
              * and a 4-bit data value.

              No problem, just add another function head.

              This example is obviously contrived, but it's so nice to be able

              to do this instead of procedural bitwise operations.
            </textarea>
          </section>

        </section>

        <!-- ===== Phoenix ===== -->
        <section>

          <section data-markdown class="nav"
            data-background-image="img/circuit.svg"
            data-background-color="#B595E5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Phoenix ðŸ’œ "IoT"
              ![Tons of cats](img/cats.png) <!-- .element: class="plain" style="height: 12em" -->

              Notes:

              Next, let's talk about Phoenix.

              This is your server on IoT.
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Simultaneous Connections
              (avoid hard CS problems for a longer time)

              ![The Road to 2M Websocket Connections](img/the_road_to_2m_websockets.png) <!-- .element: class="plain" style="height: 10em" -->
              <br/>
              [Gary Rennie - The Road to 2 Million Websocket Connections in Phoenix](https://youtu.be/c6JcVwbOGXc) <!-- .element: class="attribution" -->

              Notes:

              It turns out that Phoenix is pretty good at handling that

              without much special tuning or architecture.

              In this presentation, Gary describes how they were able to get a

              single server to host 2M websocket connections.

              That wasn't the limit of what's possible,

              it was more of an arbitrary point at which they ran out of time

              and motivation to keep going with the test.
            </textarea>
          </section>

          <section
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <h1>Use all your <em>Cores</em></h1>

            <div class="fragment" style="float: left">
              <img src="img/rpi3.png" class="plain" style="height: 14em" />
              <p>4 Cores</p>
            </div>
            <div class="fragment", style="float: right">
              <img src="img/r930.png" class="plain" style="height: 14em" />
              <p>96 Cores / 192 Threads</p>
            </div>

            <aside class="notes" data-markdown>
              Phoenix does a great job of using all your cores

              (fragment) Whether it's 4 cores in your Raspberry Pi

              (fragment) or tons of cores in your beefy server hardware
            </aside>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Pretty secure by default
              ![Phoenix Security](img/phoenix_security.png) <!-- .element: class="plain" style="height: 10em" -->
              [Griffin Byatt - Plugging the Security Holes in Your Phoenix Application](https://youtu.be/w3lKmFsmlvQ) <!-- .element: class="attribution" -->

              Notes:

              Phoenix is also pretty secure by default.

              In this presentation, Griffin presented his findings from

              analyzing a lot of Phoenix-based web applications in the wild.

              My main take-away from his presentation was that,

              unless you're doing something unusual,

              Phoenix has your back and does the right thing by default.
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Embedded web server
              (configuration, HMI, API)

              ![Process Controls](img/process_controls.png) <!-- .element: class="plain" style="height: 11em" -->

              Notes:

              Phoenix also makes a great embedded web server, whether you need

              a configuration page, a human-machine interface, or just a JSON API.
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Phoenix Channels
              ![Channels](img/channels.png) <!-- .element: class="plain" style="height: 12em" -->

              Notes:

              Phoenix Channels also offer a great way to easily connect your devices

              to a server, whether it's an app running in a browser or

              a headless sensor device in the field.
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # GraphQL Subscriptions

              ![Live APIs with GraphQL Subscriptions - Bruce Williams and Ben Wilson](img/graphql_subscriptions.png) <!-- .element: class="plain" style="height: 10em" -->
              <br/>
              [Live APIs with GraphQL Subscriptions - Bruce Williams and Ben Wilson](https://youtu.be/PEckzwggd78) <!-- .element: class="attribution" -->

              Notes:

              I'm also really interested the GraphQL Subscriptions

              feature that Bruce and Ben demoed at ElixirConf this year,

              but I haven't had a chance to try it yet.
            </textarea>
          </section>

        </section>

        <!-- ===== Segue ===== -->
        <section>

          <section data-markdown class="img-list"
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Embedded Tools
              ![Johnny Five](img/logos_j5.png) <!-- .element: class="plain fragment" style="width: 20%" -->
              ![Grisp](img/logos_grisp.png) <!-- .element: class="plain fragment" style="width: 20%" -->
              ![Ruby on Raspbian](img/logos_ruby_on_raspbian.png) <!-- .element: class="plain fragment" style="width: 20%" -->

              Notes:

              In the embedded space, there are also a bunch of options.

              (fragment): The Johnny Five project is a popular way to get

              JavaScript code running on embedded systems.

              (fragment): Grisp is also an interesting project to run Erlang directly

              on the metal of some purpose-built hardware.

              (fragment): Or you can just Linux on a Raspberry Pi and use whatever

              language you want.
            </textarea>
          </section>

        </section>

        <!-- ===== Nerves ===== -->
        <section>
          <section data-markdown class="nav"
            data-background-image="img/circuit.svg"
            data-background-color="#B595E5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              ![Nerves Logo](img/nerves_sticker.png) <!-- .element: class="plain" style="height: 6em" -->

              Craft and deploy

              bulletproof embedded software

              in Elixir

              Notes:

              But I don't recommend you do that, because that's what Nerves is for.
            </textarea>
          </section>

          <section data-background-image="img/elixir_logo_on_pi.jpg">
            <aside class="notes" data-markdown>
              We basically just put Elixir on a Raspberry Pi.

              So... there you go!
            </aside>
          </section>

          <section data-background-image="img/nerves_vs_linux.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              Nerves uses Buildroot to cross-compile a minimal Linux kernel and userland for you.

              It's much smaller than a normal Linux installation because

              it doesn't include all the drivers and tools you don't need to run your app.

              In fact, we replace the init process with a small program called erlinit,

              whose job is just to start the BEAM and run your app.
            </aside>
          </section>

          <section data-background-image="img/nerves_system.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              The Nerves team packages these up into what we call "systems" that

              are specific to a given hardware target, like a Raspberry Pi Zero.

              The systems we provide are really minimal,

              but you can make your own if you need to.

              We have pretty good documentation about how to do that.
            </aside>
          </section>

          <section data-background-image="img/nerves_firmware.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              When you build a Nerves "firmware," it adds your application code to

              the pre-compiled system.

              Your application is responsible for running any OS processes you need,

              for example, using an Elixir Port.

              This firmware runs from a read-only file-system on the device.

              This helps prevent file system corruption when power is suddenly

              removed from an embedded device while it's writing data, and also

              give some peace of mind that the firmware you put on the device is

              going to stay in a consistent state.

              A Nerves firmware, including your application,

              can be as small as 25 MB and boots in about 5 seconds.
            </aside>
          </section>

          <section data-background-image="img/nerves_appdata.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              Of course, we also have a writable partition that you can use to

              persist your data in a place that won't corrupt your boot partition.
            </aside>
          </section>

          <section data-background-image="img/nerves_b_firmware.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              We also have a secondary "firmware slot" that you can use for

              pushing updates to a running device without having to

              re-program its SD card.
            </aside>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Nerves Platform
              App-level fault-tolerance with *Bootloader*
              * Configure network
              * Start management tooling
              * Format storage partitions
              * ... Then start your app

              Notes:

              We also have Bootloader, which can be used to ensure the device

              comes up to a known-working state before trying to start your

              application.

              This allows for some limited remote diagnostics or firmware update,

              even if your application fails to start for some reason.
            </textarea>
          </section>

          <section data-markdown class="img-grid"
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Support for *Lots of Targets*
              ![rpi0](img/rpi0.png) <!-- .element: class="plain" -->
              ![rpi1](img/rpi1.png) <!-- .element: class="plain" -->
              ![rpi2](img/rpi2.png) <!-- .element: class="plain" -->
              ![rpi3](img/rpi3.png) <!-- .element: class="plain" -->
              ![bbb](img/bbb.png) <!-- .element: class="plain" -->
              ![ev3](img/ev3.png) <!-- .element: class="plain" -->

              Notes:

              Nerves currently supports a bunch of popular and readily-available

              target hardware, like the Raspberry Pi and Beaglebone families,

              and the Lego EV3, which is really neat.
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Nerves ðŸ’œ Elixir

              ```bash
              $ mix nerves.new    # Generate a Project
              $ mix deps.get      # Download Pre-Compiled Infrastructure
              $ mix firmware      # Cross-Compile your Project
              $ mix firmware.burn # Burn your SD card
              # ... or ...
              $ mix firmware.push # Update your Firmware over the Network
              ```
            </textarea>
          </section>

          <section data-background-image="img/all_in_one_nerves.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              Nerves gives you the tools you need to build, for example,

              an all-in-one touch-screen kiosk that connects to hardware devices

              and back to a central server, mostly using technologies you already know.
            </aside>
          </section>

          <section data-background-image="img/all_in_one_dev.png" data-background-size="contain">
            <aside class="notes" data-markdown>
              ... and you can use mocks of the hardware in dev and test environments

              so that you don't need to have real hardware available.
            </aside>
          </section>

        </section>

        <!-- ===== Segue ===== -->
        <section>

          <section data-markdown class="img-list"
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Front-End Tools
              ![Ruby and Opal](img/logos_ruby_opal.png) <!-- .element: class="plain fragment" style="width: 33%" -->
              ![Elixir and ElixirScript](img/logos_elixir_elixirscript.png) <!-- .element: class="plain fragment" style="width: 33%" -->
              ![Clojure and ClojureScript](img/logos_clojure_clojurescript.png) <!-- .element: class="plain fragment" style="width: 33%" -->
            </textarea>
          </section>

          <section data-markdown class="img-list"
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Front-End Tools
              ![TypeScript CoffeeScript PureScript](img/logos_ts_cs_ps.png) <!-- .element: class="plain fragment" style="width: 40%" -->
              ![React Angular Ember](img/logos_react_angular_ember.png) <!-- .element: class="plain fragment" style="width: 40%" -->
              ![Redux Flow ImmutableJS](img/logos_redux_flow_immutable.png) <!-- .element: class="plain fragment" style="width: 40%" -->
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              ![Programming People - JavaScript](img/programming_people_js.png) <!-- .element: class="plain" style="height: 12em" -->
              <br/>
              [Programming People - JavaScript](http://leftoversalad.com/c/015_programmingpeople/) <!-- .element: class="attribution" -->
            </textarea>
          </section>

        </section>

        <!-- ===== Elm ===== -->
        <section>
          <section data-markdown class="nav"
            data-background-image="img/circuit.svg"
            data-background-color="#B595E5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Elm
              ## Functional Front-End

              ![Elm logo](img/elm_logo.png) <!-- .element: class="plain" style="height: 6em" -->
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Elm ðŸ’œ Elixir
              * Pure Functions
              * Managed Side-Effects with Commands
              * Pattern-Matching
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Elm Architecture ðŸ’œ OTP
              ![Elm Architecture](img/elm_architecture.png) <!-- .element: class="plain" style="height: 12em" -->
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Elm Architecture ðŸ’œ OTP
              ![GenServer Architecture](img/genserver_architecture.png) <!-- .element: class="plain" style="height: 12em" -->
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Elm ðŸ’œ Nerves
              * Efficient DOM updates
              * (probably) No runtime exceptions
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Elm ðŸ’œ You
              * Coaching compiler

              ```elm
              type Action = Increment | Decrement | Reset


              update action model =
                case action of
                  Increment -> model + 1
                  Decrement -> model - 1
              ```
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Elm ðŸ’œ You
              * Coaching compiler

              ```bash
              This `case` does not have branches for all possibilities.

              29|   case action of
              30|     Increment -> model + 1
              31|     Decrement -> model - 1
              You need to account for the following values:

                  Main.Reset

              Add a branch to cover this pattern!

              If you are seeing this error for the first time, check out these hints:
              <https://github.com/elm-lang/elm-compiler/blob/0.16.0/hints/missing-patterns.md>
              The recommendations about wildcard patterns and `Debug.crash` are important!
              ```
              <!-- .element: style="font-size: 0.4em" -->
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Elm ðŸ’œ You
              * Side-effect-free packages
              * Semver-enforced packages
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              # Elm ðŸ’œ You
              ```bash
              $ elm-package install elm-lang/html
              Some new packages are needed. Here is the upgrade plan.

                Install:
                  elm-lang/core 5.1.1
                  elm-lang/html 2.0.0
                  elm-lang/virtual-dom 2.0.4

              Do you approve of this plan? [Y/n]
              Starting downloads...

                â— elm-lang/virtual-dom 2.0.4
                â— elm-lang/html 2.0.0
                â— elm-lang/core 5.1.1

              Packages configured successfully!
              ```
              <!-- .element: style="font-size: 0.4em" -->
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              ![Jessica Kerr - Adventures in Elm](img/adventures_in_elm.png) <!-- .element: class="plain" style="height: 12em" -->
              <br/>
              [Jessica Kerr - Adventures in Elm](https://youtu.be/cgXhMc8M4X4) <!-- .element: class="attribution" -->
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              ![Tomasz Kowal - Elixir and Elm: The Perfect Couple](img/elixir_and_elm_the_perfect_couple.png) <!-- .element: class="plain" style="height: 12em" -->
              <br/>
              [Tomasz Kowal - Elixir and Elm: The Perfect Couple](https://youtu.be/mIwD27qqr5U) <!-- .element: class="attribution" -->
            </textarea>
          </section>

          <section data-markdown
            data-background-image="img/circuit.svg"
            data-background-color="#DFDBE5"
            data-background-size="200px"
            data-background-repeat="repeat"
            data-separator-notes="^Notes:">
            <textarea data-template>
              ![Richard Feldman - Make the Back-End Team Jealous: Elm in Production](img/make_the_back-end_team_jealous.png) <!-- .element: class="plain" style="height: 12em" -->
              <br/>
              [Richard Feldman - Make the Back-End Team Jealous: Elm in Production](https://youtu.be/FV0DXNB94NE) <!-- .element: class="attribution" -->
            </textarea>
          </section>

        </section>

        <!-- ==== Wrap-up ===== -->

        <section data-background-image="img/summary.png" data-background-size="contain">
          <aside class="notes" data-markdown>
            * Think about what full-stack means for you
            * Optimize for small teams and transferrable skills
            * Make your systems (f/F)unctional
          </aside>
        </section>

        <section data-markdown class="nav"
          data-background-image="img/circuit.svg"
          data-background-color="#B595E5"
          data-background-size="200px"
          data-background-repeat="repeat"
          data-separator-notes="^Notes:">
          <textarea data-template>
            # Thanks! ðŸ’œ
            ![GregMefford](img/GregMefford.jpg) <!-- .element: class="plain" style="height: 6em" -->

            Greg Mefford (@ferggo)
          </textarea>
        </section>

      </div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>
      // More info https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        history: true,
        controls: false,
        progress: false,
        transition: "fade",
        width: 1920,
        height: 1080,
        center: false,
        pdfMaxPagesPerSlide: 1,

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
          { src: 'plugin/markdown/marked.js' },
          { src: 'plugin/markdown/markdown.js' },
          { src: 'plugin/notes/notes.js', async: true },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
        ]
      });
    </script>
  </body>
</html>
